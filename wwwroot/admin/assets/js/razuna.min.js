function razunaRemoveAll(){$(".razuna-inner-div").remove(),$("#razuna-loader-div").hide(),$("#razuna-search-div").remove(),$("#razuna-tagTree").css("width","835px")}function renderRazunaWindow(t){razuna_target=t,$("#razunaModalWindow").dialog({bgiframe:!0,autoOpen:!1,width:860,height:450,modal:!0,title:"Razuna",close:razunaRemoveAll}),$("#razunaModalWindow").closest(".ui-dialog").addClass("razuna-dialog"),$("#razunaModalWindow").load(razuna_folder+"?muraAction=razuna.default",function(){$("#action-modal").remove(),$("#razuna-tagTree").jstree({plugins:["json_data","ui","types","search"],types:{types:{folder:{hover_node:!1,select_node:function(){return!1}},default:{select_node:function(t){$("#razuna-tagTree").css("width","266px"),$("#razuna-inner-div").show(),$(".razuna-inner-div").remove(),$(t).attr("data-cloud_url_thumb",$(t).attr("data-cloud_url"));var a=$(t).attr("data-kind");if("aud"==a){var e="<tbody>";e+="\t\t<tr>",e+="\t\t\t<td>",e+="\t\t\t\t&nbsp;",e+="\t\t\t</td>",e+='\t\t\t<td valign="top">',e+="\t\t\t\t<strong>Filename : </strong><span>"+$(t).attr("data-filename_org")+"</span><br>",e+="\t\t\t\t<strong>Type : </strong><span>Audio</span><br>",e+='\t\t\t\t<table border="0" id="renditions">',e+='\t\t\t\t<tr class="rend">',e+="\t\t\t\t\t<td>&nbsp;</td>",e+='\t\t\t\t\t<td><label class="radio inline">',e+='\t\t\t\t\t\t<input type="radio" checked="checked" name="razuna-selected-url" value="'+$(t).attr("data-"+razuna_servertype+"_url_org")+'" data-height="'+$(t).attr("data-height")+'" data-width="'+$(t).attr("data-width")+'">',e+="\t\t\t\t\t\tOriginal</label>",e+="\t\t\t\t\t</td>",e+="\t\t\t\t</tr>",e+="\t\t\t\t</table>",e+='\t\t\t\t<br><button type="button" id="razuna-insert" class="btn audio">Select File</button>',e+="\t\t\t</td>",e+="\t\t</tr>",e+="</tbody>"}else if("img"==a){e="<tbody>";e+="\t\t<tr>",e+='\t\t\t<td valign="top">',e+='\t\t\t\t<img src="'+$(t).attr("data-"+razuna_servertype+"_url_thumb")+'" id="razuna-show-image">',e+="\t\t\t</td>",e+='\t\t\t<td valign="top">',e+="\t\t\t\t<strong>Filename : </strong><span>"+$(t).attr("data-filename_org")+"</span><br>",e+="\t\t\t\t<strong>Type : </strong><span>Image</span><br>",e+='\t\t\t\t<table border="0" id="renditions">',e+='\t\t\t\t<tr class="rend">',e+='\t\t\t\t\t<td style="width:60px"><strong>Size:</strong></td>',e+='\t\t\t\t\t<td><label class="radio inline">',e+='\t\t\t\t\t\t<input type="radio" id="razuna-image-size" name="razuna-selected-url" value="'+$(t).attr("data-"+razuna_servertype+"_url_thumb")+'"  data-height="'+$(t).attr("data-height")+'" data-width="'+$(t).attr("data-width")+'">Thumbnail</label>',e+="\t\t\t\t\t</td>",e+="\t\t\t\t</tr>",e+='\t\t\t\t<tr class="rend">',e+="\t\t\t\t\t<td>&nbsp;</td>",e+='\t\t\t\t\t<td><label class="radio inline">',e+='\t\t\t\t\t\t<input type="radio"',e+='\t\t\t\t\t\tchecked="checked";',e+='\t\t\t\t\t\tname="razuna-selected-url" value="'+$(t).attr("data-"+razuna_servertype+"_url_org")+'" data-height="'+$(t).attr("data-height")+'" data-width="'+$(t).attr("data-width")+'">',e+="\t\t\t\t\t\tOriginal</label>",e+="\t\t\t\t\t</td>",e+="\t\t\t\t</tr>",e+="\t\t\t\t</table>",e+='\t\t\t\t<br><button type="button" id="razuna-insert" class="btn image">Select File</button>',e+="\t\t\t</td>",e+="\t\t</tr>",e+="</tbody>"}else if("doc"==a){e="<tbody>";e+="\t\t<tr>",e+="\t\t\t<td>",e+="\t\t\t\t&nbsp;",e+="\t\t\t</td>",e+='\t\t\t<td valign="top">',e+="\t\t\t\t<strong>Filename : </strong><span>"+$(t).attr("data-filename_org")+"</span><br>",e+="\t\t\t\t<strong>Type : </strong><span>Document</span><br>",e+='\t\t\t\t<table border="0" id="renditions">',e+='\t\t\t\t<tr class="rend">',e+="\t\t\t\t\t<td>&nbsp;</td>",e+='\t\t\t\t\t<td><label class="radio inline">',e+='\t\t\t\t\t\t<input type="radio" checked="checked" name="razuna-selected-url" value="'+$(t).attr("data-"+razuna_servertype+"_url_org")+'" data-height="'+$(t).attr("data-height")+'" data-width="'+$(t).attr("data-width")+'">',e+="\t\t\t\t\t\tOriginal</label>",e+="\t\t\t\t\t</td>",e+="\t\t\t\t</tr>",e+="\t\t\t\t</table>",e+='\t\t\t\t<br><button type="button" id="razuna-insert" class="btn document">Select File</button>',e+="\t\t\t</td>",e+="\t\t</tr>",e+="</tbody>"}else if("vid"==a){e="<tbody>";e+="\t\t<tr>",e+="\t\t\t<td>",e+="\t\t\t\t&nbsp;",e+="\t\t\t</td>",e+='\t\t\t<td valign="top">',e+="\t\t\t\t<strong>Filename : </strong><span>"+$(t).attr("data-filename_org")+"</span><br>",e+="\t\t\t\t<strong>Type : </strong><span>Video</span><br>",e+='\t\t\t\t<table border="0" id="renditions">',e+='\t\t\t\t<tr class="rend">',e+="\t\t\t\t\t<td>&nbsp;</td>",e+='\t\t\t\t\t<td><label class="radio inline">',e+='\t\t\t\t\t\t<input type="radio" checked="checked" name="razuna-selected-url" value="'+$(t).attr("data-"+razuna_servertype+"_url_org")+'" data-height="'+$(t).attr("data-height")+'" data-width="'+$(t).attr("data-width")+'" data-image-thumb="'+$(t).attr("data-"+razuna_servertype+"_url_thumb")+'">',e+="\t\t\t\t\t\tOriginal</label>",e+="\t\t\t\t\t</td>",e+="\t\t\t\t</tr>",e+="\t\t\t\t</table>",e+='\t\t\t\t<br><button type="button" id="razuna-insert" class="btn video">Select File</button>',e+="\t\t\t</td>",e+="\t\t</tr>",e+="</tbody>"}for($(".razuna-describe").html(e),x=1;x<=$(t).attr("rend_total");x++)$("#renditions").append("<tr class='rend'><td><strong>&nbsp;</strong></td><td><label class='radio inline'><input type='radio' name='razuna-selected-url' value='"+$(t).attr("rend_"+razuna_servertype+"_url_org"+x)+"' data-height='"+$(t).attr("rend_height"+x)+"' data-width='"+$(t).attr("rend_width"+x)+"' data-image-thumb='"+$(t).attr("data-"+razuna_servertype+"_url_thumb")+"'>"+$(t).attr("rend_extension"+x).toUpperCase()+" ("+parseInt($(t).attr("rend_width"+x))+"px X "+parseInt($(t).attr("rend_height"+x))+"px)</label></td></tr>");return $("#razunaModalWindow").before($("#razunaImageDetails").html()),$("#razuna-inner-div").addClass("razuna-inner-div"),!1}}}},search:{case_insensitive:!0,show_only_matches:!0},json_data:{ajax:{url:razuna_folder+"?muraAction=razuna.getnodes",data:function(t){return{folderid:t.attr?t.attr("id"):0}}}}}),$("#razuna-full_page_loader").css("display","none"),$("#razunaModalWindow").before($("#razuna-search-div"))}).dialog("open")}$(function(){$("body").append('<div id="razunaModalWindow"></div>')}),$(document).on("change","input[name=razuna-selected-url]",{},function(){$("#razuna-width").val(parseInt($(this).attr("data-width"))),$("#razuna-height").val(parseInt($(this).attr("data-height")))}),$(document).on("click","#razuna-search",{},function(){$("#razuna-tagTree").jstree("open_all"),$("#razuna-inner-div").hide(),$("#razuna-loader-div").hide(),$("#razuna-tagTree").css("width","835px"),$("#razuna-full_page_loader").css("display","block"),setTimeout(function(){$("#razuna-tagTree").jstree("search",$("#razuna-search-box").val()),$("#razuna-full_page_loader").css("display","none")},2e3)}),$(document).on("click","#razuna-insert",{},function(){$('input[name="razuna-selected-url"]:checked').val();"string"==typeof razuna_target?($("input[name='"+razuna_target+"']").val($('input[name="razuna-selected-url"]:checked').val()),$("input[name='"+razuna_target+"']").trigger("change")):($("#"+razuna_target.getInputElement().$.id).val($('input[name="razuna-selected-url"]:checked').val()),razuna_target.onChange&&razuna_target.onChange(),razuna_target.getInputElement().onChange&&razuna_target.getInputElement().onChange()),$("#razunaModalWindow").dialog("close")});