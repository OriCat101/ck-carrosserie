!function(s){s.fn.collapsibleCheckboxTree=function(i){var e={checkParents:!0,checkChildren:!1,uncheckChildren:!0,initialState:"default"};i=s.extend(e,i);return this.each(function(){var i=this;switch(s("ul",s(this)).hide(),e.checkParents&&s("input:checked").parents("li").find("input[type='checkbox']:first").attr("checked",!0),e.checkChildren&&s("input:checked").parent("li").find("input[type='checkbox']").attr("checked",!0),s("li:has(input:checked) > ul",s(this)).show(),s("li",s(this)).prepend('<span class="">&nbsp;</span>'),s("li:has(> ul:not(:hidden)) > span",s(this)).addClass("expanded").html('<i class="mi-minus-circle icon-minus-sign"></i>'),s("li:has(> ul:hidden) > span",s(this)).addClass("collapsed").html('<i class="mi-plus-circle icon-plus-sign"></i>'),s("input[type='checkbox']",s(this)).click(function(){s(this).is(":checked")?(s("> ul",s(this).parent("li")).fadeIn("fast"),s("> span.collapsed",s(this).parent("li")).removeClass("collapsed").addClass("expanded").html('<i class="mi-minus-circle icon-minus-sign"></i>'),e.checkParents&&s(this).parents("li").find("input[type='checkbox']:first").attr("checked",!0),e.checkChildren&&(s(this).parent("li").find("input[type='checkbox']").attr("checked",!0),s("ul",s(this).parent("li")).fadeIn("fast"),s("span.collapsed",s(this).parent("li")).removeClass("collapsed").addClass("expanded").html('<i class="mi-minus-circle icon-minus-sign"></i>'))):e.uncheckChildren&&(s(this).parent("li").find("input[type='checkbox']").attr("checked",!1),s("ul",s(this).parent("li")).fadeOut("fast"),s("span.expanded",s(this).parent("li")).removeClass("expanded").addClass("collapsed").html('<i class="mi-plus-circle icon-plus-sign"></i>'))}),s("li:has(> ul) span",s(this)).click(function(){return s(this).is(".collapsed")?(s("> ul",s(this).parent("li")).show(),s(this).removeClass("collapsed").addClass("expanded").html('<i class="mi-minus-circle icon-minus-sign"></i>')):s(this).is(".expanded")&&(s("> ul",s(this).parent("li")).hide(),s(this).removeClass("expanded").addClass("collapsed").html('<i class="mi-plus-circle icon-plus-sign"></i>')),!1}),s("#expand").click(function(){return s("ul",i).fadeIn("fast"),s("li:has(> ul) > span",i).removeClass("collapsed").addClass("expanded").html('<i class="mi-minus-circle icon-minus-sign"></i>'),!1}),s("#collapse").click(function(){return s("ul",i).fadeOut("fast"),s("li:has(> ul) > span",i).removeClass("expanded").addClass("collapsed").html('<i class="mi-plus-circle icon-plus-sign"></i>'),!1}),s("#default").click(function(){return s("ul",i).fadeOut("fast"),s("li:has(input:checked) > ul",i).fadeIn("fast"),s("li:has(> ul:not(:hidden)) > span",i).removeClass("collapsed").addClass("expanded").html('<i class="mi-minus-circle icon-minus-sign"></i>'),s("li:has(> ul:hidden) > span",i).removeClass("expanded").addClass("collapsed").html('<i class="mi-plus-circle icon-plus-sign"></i>'),!1}),e.initialState){case"expand":s("#expand").trigger("click");break;case"collapse":s("#collapse").trigger("click")}}),this}}(jQuery);